# Tasks

## –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ë—ç–∫–µ–Ω–¥ (Go)

- [x] **–§–µ—Ç—á–µ—Ä SPA** ‚Äî —Ñ–æ–ª–±–µ–∫–∏ –¥–ª—è JS-—Å–∞–π—Ç–æ–≤: ld+json ‚Üí og meta-—Ç–µ–≥–∏ (`services/fetcher.go`)
- [x] **Rate limit –≤—Ä–µ–º—è** ‚Äî —á–∏—Ç–∞–µ—Ç `Retry-After` / `X-RateLimit-Reset-Requests` –∏–∑ 429, –ª–æ–≥–∏—Ä—É–µ—Ç —Å–∫–æ–ª—å–∫–æ –∂–¥–∞—Ç—å (`services/groq.go`, `services/openrouter.go`)
- [x] **GET /api/limits** ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å —Ç–µ–∫—É—â–∏–º–∏ rate limit –¥–∞–Ω–Ω—ã–º–∏ –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º (`services/ratelimit.go`, `handlers/analyzer.go`, `main.go`)

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

- [x] **–†–µ–¥–∏–∑–∞–π–Ω** ‚Äî IBM Plex Mono + Bebas Neue, —Å–µ—Ç–∫–∞ —Ñ–æ–Ω–∞, scanlines, live WS-–ª–æ–≥–∏, API-—Ç–µ—Å—Ç–µ—Ä (`admin/index.html`)

### Chrome –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- [x] **userId + –∏—Å—Ç–æ—Ä–∏—è** ‚Äî UUID –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ö—Ä–∞–Ω–∏—Ç 30 –∑–∞–ø–∏—Å–µ–π 7 –¥–Ω–µ–π, –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∫–Ω–æ–ø–∫–µ üïê (`popup.js`)
- [x] **–ê–≤—Ç–æ-—Å–∫–∞–Ω –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏** ‚Äî –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ popup —Ç–∏—Ö–æ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∞–Ω–∏–º–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ (`popup.js`, `content.js`)
- [x] **–ö–µ—à** ‚Äî —Ç–∞ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∫–µ—à–∞, –∫–Ω–æ–ø–∫–∞ üîÑ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ—Å–∫–∞–Ω–∞ (`popup.js`)
- [x] **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —É–≥–ª—É** ‚Äî floating div –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ (`popup.js`)
- [x] **Facebook –ø–æ–¥–¥–µ—Ä–∂–∫–∞** ‚Äî `content.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `div[dir="auto"]` + `[role="article"]`, overlay –∫—Ä–µ–ø–∏—Ç—Å—è –∫ `<html>`, manifest –¥–æ–±–∞–≤–ª–µ–Ω `facebook.com` –≤ host_permissions

### Telegram Bot

- [x] **–ù–æ–≤–∞—è –ø–∞–ø–∫–∞** `telegram-bot/` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π Go-–º–æ–¥—É–ª—å (`main.go`, `analyzer.go`, `formatter.go`)
- [x] **SSE-–∫–ª–∏–µ–Ω—Ç** ‚Äî —Å—Ç—Ä–∏–º–∏—Ç `/api/analyze/stream`, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- [x] **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –±–∞–ª–ª + –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä + –≤–µ—Ä–¥–∏–∫—Ç + –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ + –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- [x] **/cancel** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–Ω–∞–ª–∏–∑, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **–í–∏–¥–µ–æ–∞–Ω–∞–ª–∏–∑** ‚Äî Gemini Files API: –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ ‚Üí –∂–¥—ë—Ç ACTIVE ‚Üí `gemini-2.5-flash` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç (`telegram-bot/gemini.go`)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [x] **–û–¥–∏–Ω .env** ‚Äî –±–æ—Ç —á–∏—Ç–∞–µ—Ç `../.env` –∏–∑ –∫–æ—Ä–Ω—è, —É–¥–∞–ª—ë–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π `.env.example` –∏–∑ `telegram-bot/`, —Å–æ–∑–¥–∞–Ω –æ–±—â–∏–π `.env.example`
- [x] **Docker** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω nginx (SSE –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è, —Ç–∞–π–º–∞—É—Ç—ã, server_name), –¥–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å telegram-bot, env_file –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, healthcheck –Ω–∞ postgres –∏ backend

---

## –í –æ—á–µ—Ä–µ–¥–∏

- [x] Webhook —Ä–µ–∂–∏–º –¥–ª—è Telegram –±–æ—Ç–∞ ‚Äî –∞–≤—Ç–æ–≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ `WEBHOOK_URL` –≤ `.env`
- [x] –ö–Ω–æ–ø–∫–∏ inline –≤ –±–æ—Ç–µ (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑, –ø–æ–¥–µ–ª–∏—Ç—å—Å—è)
- [ ] –ü–æ–∫–∞–∑ rate limits –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/limits`)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –µ—Å–ª–∏ —Å–∞–π—Ç —É–∂–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ

---

## üîó –¶–µ–ø–æ—á–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 2026-02-28)

> –ù–∞—Ö–æ–¥–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª —Å—Ç–∞—Ç—å–∏ –∏ –≤—Å–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –ø–µ—Ä–µ—Å–∫–∞–∑—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–¥–µ –∏ –∫–∞–∫ –º–µ–Ω—è–ª—Å—è —Å–º—ã—Å–ª

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç–∞—Ç—å—é –ø–æ URL
2. AI –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–º—É, –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏ –∫–ª—é—á–µ–≤—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
3. Serper API –∏—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–µ—Ç–∏
4. –î–ª—è –∫–∞–∂–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏: –∑–∞–≥—Ä—É–∂–∞–µ—Ç ‚Üí AI —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–∏—è
5. –°—Ç—Ä–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ SSE –ø–æ –º–µ—Ä–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞

### –ë—ç–∫–µ–Ω–¥

- [x] **`services/chain.go`** ‚Äî `ChainService` + `ChainNode` + `Distortion` + `ChainResult`
  - `BuildChain(ctx, url, emit)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥, —Å—Ç—Ä–∏–º–∏—Ç `ChainEvent`
  - `extractTopicAndClaims(text)` ‚Äî AI ‚Üí —Ç–µ–º–∞ + search_query + key_claims
  - `analyzeRelatedArticle(url, claims)` ‚Äî AI —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—å—é —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º
  - –¢–∏–ø—ã –∏—Å–∫–∞–∂–µ–Ω–∏–π: `exaggeration` / `omission` / `addition` / `change` + `distortion_score` 0‚Äì10
- [x] **`handlers/chain.go`** ‚Äî `POST /api/chain/stream` SSE endpoint
  - –°–æ–±—ã—Ç–∏—è: `chain_start` ‚Üí `chain_progress` ‚Üí `chain_node` ‚Üí `chain_done` / `chain_error`
- [x] **`main.go`** ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω `/api/chain/stream`

### Chrome —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- [x] **`popup.html`** ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´üîó –¶–µ–ø–æ—á–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤¬ª –≤ idle + `view-chain` —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
- [x] **`popup.js`** ‚Äî `startChain(url)`, `handleChainEvent()`, `renderChainNode()` ‚Äî SSE + —Ä–µ–Ω–¥–µ—Ä
- [x] **`popup.css`** ‚Äî —Å—Ç–∏–ª–∏: `.chain-node`, `.chain-dist-type.*`, `.chain-score.{low|med|high}`

---

## üé• Gemini Video Analysis (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!)

> –ù—É–∂–µ–Ω `GEMINI_API_KEY` –∏–∑ [aistudio.google.com](https://aistudio.google.com) (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

- [x] **Telegram bot ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ** ‚Äî –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å—ã–ª–∞–µ—Ç/–ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –≤–∏–¥–µ–æ, –±–æ—Ç –µ–≥–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç (`telegram-bot/main.go`)
- [x] **Gemini Files API** ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ –≤ Gemini Files API (`telegram-bot/gemini.go`)
- [x] **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + –¥–µ–∑–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** ‚Äî Gemini –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç —Ä–µ—á—å + –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏
- [x] **–î–æ–±–∞–≤–ª–µ–Ω** `GEMINI_API_KEY` –≤ `.env` –∏ `docker-compose.yml`

- [x] **????? ?????????????** ó ?????????? \ound_evidence\ ?? ?????? (??????, ?????????)
- [x] **UI ??? ?????????????** ó ??????????? ? ????, ??????????, Fact Guard, Admin Panel
- [x] **100% ????????** ó ??????????? ??????? ??? ADEVARAT ?? 100% ?????????? ??????????
