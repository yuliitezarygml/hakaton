<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Text Analyzer</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="app">

    <header>
      <span class="title">üîç Text Analyzer</span>
      <span id="status-dot" class="status-dot" title="–°—Ç–∞—Ç—É—Å –±—ç–∫–µ–Ω–¥–∞"></span>
    </header>

    <!-- State: idle -->
    <div id="view-idle" class="view hidden">
      <button id="btn-analyze-url" class="btn-primary">
        –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      </button>
      <p class="hint">
        –ò–ª–∏ –≤—ã–¥–µ–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∞ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ<br>
        ‚Üí –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
      </p>
    </div>

    <!-- State: scanning (content script running on page) -->
    <div id="view-scanning" class="view hidden">
      <div class="scan-header">
        <div class="scan-pulse-dot"></div>
        <span class="scan-title">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</span>
        <span id="scan-chars" class="scan-chars">0 —Å–∏–º–≤.</span>
      </div>
      <div class="scan-progress-bar"><div id="scan-bar-fill" class="scan-bar-fill"></div></div>
      <div id="scan-feed"></div>
      <button id="btn-cancel-scan" class="btn-secondary">‚úï –û—Ç–º–µ–Ω–∏—Ç—å</button>
    </div>

    <!-- State: analyzing (SSE streaming) -->
    <div id="view-analyzing" class="view hidden">
      <div id="event-log"></div>
      <button id="btn-stop" class="btn-secondary">‚úï –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    </div>

    <!-- State: result -->
    <div id="view-result" class="view hidden">
      <div id="result-header">
        <span id="result-score"></span>
        <span id="result-verdict"></span>
      </div>
      <p id="result-summary"></p>
      <div id="result-sections"></div>
      <button id="btn-new" class="btn-secondary">‚Ü∫ –ù–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</button>
    </div>

  </div>
  <script src="popup.js"></script>
</body>
</html>
