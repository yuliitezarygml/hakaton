<div class="api-response-block"
	 data-api-url="{{ api_result.url if api_result is defined and api_result else '' }}"
	 data-stream-base="/api/analyze/stream"
	 data-use-fake="{{ 'true' if use_fake else 'false' }}"
	 data-fake-result='{{ api_result | tojson if use_fake and api_result else "" }}'
	 data-fake-logs='{{ fake_logs | tojson if use_fake else "" }}'>
	
	{% if api_result %}
	<div class="analysis-container">
		<!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
		<div class="analysis-results">
			<!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–µ—Ä–¥–∏–∫—Ç–∞ -->
			<div class="verdict-card" data-verdict-level="pending">
				<div class="verdict-header">
					<div class="verdict-score-wrapper">
						<div class="verdict-score-circle" data-field="credibility_score_visual">
							<span class="score-value" data-field="credibility_score">-</span>
							<span class="score-max">/10</span>
						</div>
						<div class="verdict-score-bar">
							<div class="score-bar-fill" data-field="score_bar" style="width: 0%;"></div>
						</div>
					</div>
					<div class="verdict-text">
						<div class="verdict-label" data-field="final_verdict">–û–∂–∏–¥–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞...</div>
						<div class="verdict-explanation" data-field="verdict_explanation">-</div>
					</div>
				</div>
				<div class="verdict-source">
					<span class="source-icon">üîó</span>
					<a href="{{ api_result.url }}" target="_blank" class="source-link" data-field="source_url_link">{{ api_result.url | truncate(50) }}</a>
				</div>
			</div>

			<!-- –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –ª–æ–≥ -->
			<div class="single-log-line">
				<div class="log-dot progress"></div>
				<span class="log-type-badge progress">start</span>
				<span class="log-message">–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∞...</span>
				<div class="log-spinner"></div>
			</div>

			<!-- –†–µ–∑—é–º–µ -->
			<div class="analysis-section">
				<div class="section-header">
					<span class="section-icon">üìù</span>
					<span class="section-title">–†–µ–∑—é–º–µ</span>
				</div>
				<div class="section-content markdown-content" data-field="summary">
					<p class="placeholder-text">–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞...</p>
				</div>
			</div>

			<!-- –ü—Ä–æ–±–ª–µ–º—ã –∏ –Ω–∞—Ö–æ–¥–∫–∏ -->
			<div class="findings-grid">
				<!-- –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ -->
				<div class="finding-card finding-card--warning">
					<div class="finding-header">
						<span class="finding-icon">‚ö†Ô∏è</span>
						<span class="finding-title">–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏</span>
						<span class="finding-count" data-field="manipulations_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="manipulations">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã -->
				<div class="finding-card finding-card--issue">
					<div class="finding-header">
						<span class="finding-icon">üß©</span>
						<span class="finding-title">–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</span>
						<span class="finding-count" data-field="logical_issues_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="logical_issues">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ -->
				<div class="finding-card finding-card--missing">
					<div class="finding-header">
						<span class="finding-icon">‚ùì</span>
						<span class="finding-title">–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞</span>
						<span class="finding-count" data-field="missing_evidence_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="missing_evidence">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã -->
				<div class="finding-card finding-card--success">
					<div class="finding-header">
						<span class="finding-icon">‚úÖ</span>
						<span class="finding-title">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã</span>
						<span class="finding-count" data-field="verifiable_facts_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="verifiable_facts">
						<li class="placeholder-item">-</li>
					</ul>
				</div>
			</div>

			<!-- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ -->
			<div class="analysis-section sources-section">
				<div class="section-header">
					<span class="section-icon">üìö</span>
					<span class="section-title">–ò—Å—Ç–æ—á–Ω–∏–∫–∏</span>
				</div>
				<div class="sources-list" data-field-sources>
					<div class="source-item placeholder-item">
						<span>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</span>
					</div>
				</div>
			</div>
		</div>

		<!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: Streaming Log -->
		<div class="analysis-log">
			<div class="log-header">
				<span class="log-icon">üì°</span>
				<span class="log-title">–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏</span>
				<span class="log-status" data-field="log_status">–í –ø—Ä–æ—Ü–µ—Å—Å–µ...</span>
			</div>
			<div class="log-timeline" id="api-log-body">
				<div class="log-entry log-entry--start" id="api-log-placeholder">
					<div class="log-dot"></div>
					<div class="log-content">
						<span class="log-type-badge">start</span>
						<span class="log-message">–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∞...</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	{% else %}
	<div class="api-response-empty">
		<div class="empty-icon">üîç</div>
		<div class="empty-text">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</div>
		<div class="empty-hint">–í–≤–µ–¥–∏—Ç–µ URL —Å—Ç–∞—Ç—å–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
	</div>
	{% endif %}
</div>
