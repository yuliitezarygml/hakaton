<div class="api-response-block"
	 data-api-url="{{ api_result.url if api_result is defined and api_result else '' }}"
	 data-stream-base="/api/analyze/stream"
	 data-use-fake="{{ 'true' if use_fake else 'false' }}"
	 data-fake-result='{{ api_result | tojson if use_fake and api_result else "" }}'
	 data-fake-logs='{{ fake_logs | tojson if use_fake else "" }}'>
	
	{% if api_result %}
	<div class="analysis-container">
		<!-- Ğ›ĞµĞ²Ğ°Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ°: Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ -->
		<div class="analysis-results">
			<!-- ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²ĞµÑ€Ğ´Ğ¸ĞºÑ‚Ğ° -->
			<div class="verdict-card" data-verdict-level="pending">
				<div class="verdict-header">
					<div class="verdict-score-wrapper">
						<div class="verdict-score-circle" data-field="credibility_score_visual">
							<span class="score-value" data-field="credibility_score">-</span>
							<span class="score-max">/10</span>
						</div>
						<div class="verdict-score-bar">
							<div class="score-bar-fill" data-field="score_bar" style="width: 0%;"></div>
						</div>
					</div>
				<div class="verdict-text">
					<div class="verdict-label" data-field="final_verdict">{{ i18n.api_response.waiting | default('Waiting for analysis...') }}</div>
					<div class="verdict-explanation" data-field="verdict_explanation">-</div>
				</div>
				</div>
				<div class="verdict-source">
					<span class="source-icon">ğŸ”—</span>
					<a href="{{ api_result.url }}" target="_blank" class="source-link" data-field="source_url_link">{{ api_result.url | truncate(50) }}</a>
				</div>
			</div>

			<!-- ĞĞ´Ğ½Ğ¾ÑÑ‚Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ»Ğ¾Ğ³ -->
			<div class="single-log-line">
				<div class="log-dot progress"></div>
				<span class="log-type-badge progress">start</span>
				<span class="log-message">{{ i18n.api_response.waiting_start | default('Waiting for analysis to start...') }}</span>
				<div class="log-spinner"></div>
			</div>

			<!-- Ğ ĞµĞ·ÑĞ¼Ğµ -->
			<div class="analysis-section">
				<div class="section-header">
					<span class="section-icon">ğŸ“</span>
					<span class="section-title">{{ i18n.api_response.summary | default('Summary') }}</span>
				</div>
				<div class="section-content markdown-content" data-field="summary">
					<p class="placeholder-text">{{ i18n.api_response.waiting_results | default('Waiting for analysis results...') }}</p>
				</div>
			</div>

			<!-- ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´ĞºĞ¸ -->
			<div class="findings-grid">
				<!-- ĞœĞ°Ğ½Ğ¸Ğ¿ÑƒĞ»ÑÑ†Ğ¸Ğ¸ -->
				<div class="finding-card finding-card--warning">
					<div class="finding-header">
						<span class="finding-icon">âš ï¸</span>
						<span class="finding-title">{{ i18n.api_response.manipulations | default('Manipulations') }}</span>
						<span class="finding-count" data-field="manipulations_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="manipulations">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- Ğ›Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ -->
				<div class="finding-card finding-card--issue">
					<div class="finding-header">
						<span class="finding-icon">ğŸ§©</span>
						<span class="finding-title">{{ i18n.api_response.logical_issues | default('Logical Issues') }}</span>
						<span class="finding-count" data-field="logical_issues_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="logical_issues">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- ĞĞµĞ´Ğ¾ÑÑ‚Ğ°ÑÑ‰Ğ¸Ğµ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ° -->
				<div class="finding-card finding-card--missing">
					<div class="finding-header">
						<span class="finding-icon">â“</span>
						<span class="finding-title">{{ i18n.api_response.missing_evidence | default('Missing Evidence') }}</span>
						<span class="finding-count" data-field="missing_evidence_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="missing_evidence">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ° -->
				<div class="finding-card finding-card--success">
					<div class="finding-header">
						<span class="finding-icon">ğŸ”</span>
						<span class="finding-title">ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°</span>
						<span class="finding-count" data-field="found_evidence_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="found_evidence">
						<li class="placeholder-item">-</li>
					</ul>
				</div>

				<!-- Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°ĞºÑ‚Ñ‹ -->
				<div class="finding-card finding-card--success">
					<div class="finding-header">
						<span class="finding-icon">âœ…</span>
						<span class="finding-title">{{ i18n.api_response.verified_facts | default('Verified Facts') }}</span>
						<span class="finding-count" data-field="verifiable_facts_count">0</span>
					</div>
					<ul class="finding-list" data-field-list="verifiable_facts">
						<li class="placeholder-item">-</li>
					</ul>
				</div>
			</div>

			<!-- Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ -->
			<div class="analysis-section sources-section">
				<div class="section-header">
					<span class="section-icon">ğŸ“š</span>
					<span class="section-title">{{ i18n.api_response.sources | default('Sources') }}</span>
				</div>
				<div class="sources-list" data-field-sources>
					<div class="source-item placeholder-item">
						<span>-</span>
					</div>
				</div>
			</div>
		</div>

		<!-- ĞŸÑ€Ğ°Ğ²Ğ°Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ°: Streaming Log -->
		<div class="analysis-log">
			<div class="log-header">
				<span class="log-icon">ğŸ“¡</span>
				<span class="log-title">{{ i18n.api_response.reasoning | default('Reasoning') }}</span>
				<span class="log-status" data-field="log_status">...</span>
			</div>
			<div class="log-timeline" id="api-log-body">
				<div class="log-entry log-entry--start" id="api-log-placeholder">
					<div class="log-dot"></div>
					<div class="log-content">
						<span class="log-type-badge">start</span>
						<span class="log-message">{{ i18n.api_response.waiting_start | default('Waiting for analysis to start...') }}</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	{% else %}
	<div class="api-response-empty">
		<div class="empty-icon">ğŸ”</div>
		<div class="empty-text">-</div>
		<div class="empty-hint">{{ i18n.api.placeholder | default('Enter the URL of the article or news item you want to check.') }}</div>
	</div>
	{% endif %}
</div>
