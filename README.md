# ๐ ANALYST โ ะะฝะฐะปะธะทะฐัะพั ัะตะบััะพะฒ ะธ ะดะตะทะธะฝัะพัะผะฐัะธะธ

> AI-ะฟะปะฐััะพัะผะฐ ะดะปั ะฟัะพะฒะตัะบะธ ัะฐะบัะพะฒ: ะพะฑะฝะฐััะถะธะฒะฐะตั ะดะตะทะธะฝัะพัะผะฐัะธั, ะผะฐะฝะธะฟัะปััะธะธ ะธ ะปะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ ะฒ ััะฐัััั ะธ ะฝะพะฒะพัััั.  
> ะะฐะฑะพัะฐะตั ะบะฐะบ **ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต**, **Telegram-ะฑะพั** ะธ **ัะฐััะธัะตะฝะธะต ะดะปั Chrome** โ ะฒัะต ะบะปะธะตะฝัั ะฟะพะดะบะปััะตะฝั ะบ ะพะดะฝะพะผั ะฑัะบะตะฝะดั.

---

## ๐ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ะะะะะะขะซ / ะะะขะะะะะข                       โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ะะฐััะธัะตะฝะธะต   โ  โ  Telegram Bot    โ  โ  ะะตะฑ-ะฑัะฐัะทะตั     โ  โ
โ  โ Chrome       โ  โ  (Go, polling/   โ  โ  (Fact Guard     โ  โ
โ  โ (Manifest V3)โ  โ   webhook)       โ  โ   ััะพะฝัะตะฝะด)      โ  โ
โ  โโโโโโโโฌโโโโโโโโ  โโโโโโโโโโฌโโโโโโโโโโ  โโโโโโโโโโฌโโโโโโโโโโ  โ
โโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโ
          โ                   โ                     โ
          โผ                   โผ                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     NGINX (ะฟะพัั 80)                             โ
โ  /api/*  โ backend:8080                                         โ
โ  /admin/ โ backend:8080                                         โ
โ  /s/*    โ backend:8080  (ัััะฐะฝะธัั ัะฐัะธะฝะณะฐ)                     โ
โ  /       โ fact-guard:80 (ััะพะฝัะตะฝะด)                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               GO ะะญะะะะ (ะฟะพัั 8080)                             โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ะกะตัะฒะธั     โ  โ  ะคะตััะตั     โ  โ   Serper (Google     โ   โ
โ  โ  ะะฝะฐะปะธะทะฐ    โ  โ  ะบะพะฝัะตะฝัะฐ   โ  โ   Search API)        โ   โ
โ  โ             โ  โ             โ  โ                      โ   โ
โ  โ โข ะัะตัะตะดั  โ  โ โข HTML ะฟะฐัั โ  โ โข ะัะพะฒะตัะบะฐ ัะฐะบัะพะฒ    โ   โ
โ  โ โข ะะฐัะทะฐ/   โ  โ โข SPA fbk   โ  โ โข ะัะปััะธัะทััะฝัะน ะฟะพะธัะบโ   โ
โ  โ   ะะพะทะพะฑะฝะพะฒะปโ  โ โข OG/ld+jsonโ  โ โข ะะตัะตะบััััะฝะฐั ะฟัะพะฒะตัโ   โ
โ  โโโโโโโโฌโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ         โ                                                       โ
โ  โโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                   โ
โ  โ         AI ะะปะธะตะฝั (ะธะฝัะตััะตะนั)            โ                   โ
โ  โ  โโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโ  โ                   โ
โ  โ  โ    Groq    โ  ะะะ โ  OpenRouter   โ  โ                   โ
โ  โ  โ llama-3.3  โ      โ qwen3/deepseekโ  โ                   โ
โ  โ  โโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโ  โ                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                   โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
             โ                    โ
      โโโโโโโโผโโโโโโโ     โโโโโโโโโผโโโโโโโ
      โ  PostgreSQL  โ     โ    Redis     โ
      โ  (ัะตะทัะปััะฐัั,โ     โ  (ะบัั 24ั,  โ
      โ   ัะฐัะธะฝะณ,    โ     โ   SHA-256)   โ
      โ   ะดะพะผะตะฝั)    โ     โโโโโโโโโโโโโโโโ
      โโโโโโโโโโโโโโโโ
```

---

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
openrouter-web/
โโโ main.go                    # HTTP-ัะตัะฒะตั, ัะตะณะธัััะฐัะธั ัะพััะพะฒ
โโโ Dockerfile                 # ะะฑัะฐะท Go-ะฑัะบะตะฝะดะฐ
โโโ docker-compose.yml         # ะัะต 6 ัะตัะฒะธัะพะฒ
โโโ nginx.conf                 # ะะพะฝัะธะณััะฐัะธั ะพะฑัะฐัะฝะพะณะพ ะฟัะพะบัะธ
โโโ .env.example               # ะัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ั ะพะฟะธัะฐะฝะธะตะผ
โ
โโโ handlers/                  # HTTP-ะพะฑัะฐะฑะพััะธะบะธ
โ   โโโ analyzer.go            # /api/analyze, /api/analyze/stream, /api/chat
โ   โโโ share.go               # /api/share (ัะพะทะดะฐัั), /s/:id (ัััะฐะฝะธัะฐ)
โ   โโโ admin.go               # /api/admin/* (ััะฐัะธััะธะบะฐ, ะปะพะณะธ, ะฟะฐัะทะฐ)
โ   โโโ docker.go              # /api/admin/docker/* (ะบะพะฝัะตะนะฝะตัั, ะปะพะณะธ WS)
โ   โโโ domain.go              # /api/domain/:host, /api/domains/top
โ
โโโ services/                  # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ analyzer.go            # ะะฐะนะฟะปะฐะนะฝ: ะบััโfetchโAIโะฒะตัะธัะธะบะฐัะธัโัะพััะฐะฝะตะฝะธะต
โ   โโโ fetcher.go             # ะฃะผะฝัะน ัะตััะตั URL (HTML, SPA, OG-ัะตะณะธ)
โ   โโโ openrouter.go          # AI-ะบะปะธะตะฝั OpenRouter
โ   โโโ groq.go                # AI-ะบะปะธะตะฝั Groq (ะฑััััะตะต, ะฑะตัะฟะปะฐัะฝัะน)
โ   โโโ serper.go              # Google Search ัะตัะตะท Serper API
โ   โโโ ratelimit.go           # ะขัะตะบะตั rate limit ะฟะพ ะฟัะพะฒะฐะนะดะตัะฐะผ
โ   โโโ prompt_loader.go       # ะะฐะณััะทะบะฐ ะฟัะพะผะฟัะพะฒ ะธะท config/prompts.json
โ   โโโ domain.go              # ะกัะฐัะธััะธะบะฐ ัะตะฟััะฐัะธะธ ะดะพะผะตะฝะพะฒ
โ
โโโ config/
โ   โโโ prompts.json           # ะกะธััะตะผะฝัะน ะฟัะพะผะฟั AI, ะฟัะฐะฒะธะปะฐ ะพัะตะฝะบะธ, ะฟัะธะผะตัั
โ
โโโ database/                  # ะะฝะธัะธะฐะปะธะทะฐัะธั ะธ ะฟะพะดะบะปััะตะฝะธะต PostgreSQL
โโโ cache/                     # ะะฑัััะบะฐ Redis-ะบะปะธะตะฝัะฐ
โโโ models/                    # ะะฑัะธะต Go-ััััะบัััั (AnalysisResponse ะธ ะดั.)
โโโ logger/                    # Ring-buffer ะปะพะณะณะตั ะดะปั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ
โ
โโโ admin/                     # ะะดะผะธะฝ-ะฟะฐะฝะตะปั (ััะฐัะธัะตัะบะธะต HTML)
โ   โโโ index.html             # ะััะฑะพัะด: ััะฐัะธััะธะบะฐ, ะปะพะณะธ, rate limits
โ   โโโ docker.html            # ะฃะฟัะฐะฒะปะตะฝะธะต Docker-ะบะพะฝัะตะนะฝะตัะฐะผะธ
โ   โโโ share.html             # ะัะฑะปะธัะฝะฐั ัััะฐะฝะธัะฐ ัะตะทัะปััะฐัะฐ
โ   โโโ mian.css               # ะะฑัะฐั ะดะธะทะฐะนะฝ-ัะธััะตะผะฐ
โ
โโโ EXTENSION/                 # Chrome Extension (Manifest V3)
โ   โโโ manifest.json
โ   โโโ popup.html / popup.js  # UI ะฟะพะฟะฐะฟะฐ ัะฐััะธัะตะฝะธั
โ   โโโ popup.css              # ะัะตะผะธะฐะปัะฝัะน ะดะธะทะฐะนะฝ
โ   โโโ content.js             # ะกะบะฐะฝะตั ัััะฐะฝะธัั (ะธะฝะถะตะบัะธััะตััั ะฒ ัะฐะฑ)
โ   โโโ background.js          # Service worker
โ
โโโ telegram-bot/              # Telegram-ะฑะพั (ะพัะดะตะปัะฝัะน Go-ะผะพะดัะปั)
โ   โโโ main.go                # ะะพะณะธะบะฐ ะฑะพัะฐ: polling/webhook, ะพะฑัะฐะฑะพััะธะบะธ
โ   โโโ analyzer.go            # SSE-ะบะปะธะตะฝั ะดะปั /api/analyze/stream
โ   โโโ formatter.go           # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต HTML-ัะพะพะฑัะตะฝะธะน Telegram
โ
โโโ Fact_Guard-main/           # ะะตะฑ-ััะพะฝัะตะฝะด (ะพัะดะตะปัะฝัะน ัะตัะฒะธั)
    โโโ ...                    # Python/Flask ััะพะฝัะตะฝะด-ะฟัะธะปะพะถะตะฝะธะต
```

---

## ๐ ะะฐะบ ัะฐะฑะพัะฐะตั โ ะฟะพะปะฝัะน ะฟะฐะนะฟะปะฐะนะฝ

### ะะฝะฐะปะธะท URL

```
ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะปัะตั URL
         โ
         โผ
1. ะคะตััะตั ะบะพะฝัะตะฝัะฐ
   โโโ HTTP GET ั ะทะฐะณะพะปะพะฒะบะฐะผะธ ะฑัะฐัะทะตัะฐ
   โโโ ะะฐััะธะฝะณ HTML โ ะธะทะฒะปะตัะตะฝะธะต ะพัะฝะพะฒะฝะพะณะพ ัะตะบััะฐ
   โโโ Fallback: ld+json ััััะบัััะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต
   โโโ Fallback: OG meta-ัะตะณะธ (title + description)
   โโโ ะะตะทัะปััะฐั: ัะธัััะน ัะตะบัั ััะฐััะธ

         โ
         โผ
2. ะัะพะฒะตัะบะฐ ะบััะฐ Redis (SHA-256 ััั ัะตะบััะฐ)
   โโโ ะะะะะะะะะ  โ ะผะณะฝะพะฒะตะฝะฝัะน ะฒะพะทะฒัะฐั ะธะท ะบััะฐ
   โโโ ะะะะะะฅ     โ ะฟัะพะดะพะปะถะฐะตะผ ะฟะฐะนะฟะปะฐะนะฝ

         โ
         โผ
3. ะะตะฑ-ะฟะพะธัะบ Serper (ะตัะปะธ ัััะฐะฝะพะฒะปะตะฝ SERPER_API_KEY)
   โโโ ะะพะธัะบ Google ะฟะพ ะบะปััะตะฒัะผ ััะฒะตัะถะดะตะฝะธัะผ ััะฐััะธ
       โ ะดะพะฑะฐะฒะปัะตั ะฑะปะพะบ "ะะะะขะะะกะข ะะ ะะะขะะะะะขะ" ะฒ AI-ะฟัะพะผะฟั

         โ
         โผ
4. ะัะตัะตะดั ะทะฐะฟัะพัะพะฒ (ัะตะผะฐัะพั, ะผะฐะบั. 1 ะพะดะฝะพะฒัะตะผะตะฝะฝัะน AI-ะทะฐะฟัะพั)
   โโโ ะััะฐะปัะฝัะต ะทะฐะฟัะพัั ะถะดัั ั ะธะฝะดะธะบะฐัะธะตะน ะฟะพะทะธัะธะธ ะฒ ะพัะตัะตะดะธ

         โ
         โผ
5. AI-ะฐะฝะฐะปะธะท (Groq ะธะปะธ OpenRouter)
   โโโ ะัะฟัะฐะฒะปัะตั: system_prompt + ัะตะบัั ััะฐััะธ + ะบะพะฝัะตะบัั ะฟะพะธัะบะฐ
       ะะพะปััะฐะตั: JSON ั ะฟะพะปัะผะธ:
         โข credibility_score (0-10)
         โข summary โ ะบัะฐัะบะพะต ัะตะทัะผะต
         โข manipulations[] โ ัะฟะธัะพะบ ะผะฐะฝะธะฟัะปััะธะน
         โข logical_issues[] โ ะปะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ
         โข fact_check { verifiable_facts, opinions_as_facts, missing_evidence }
         โข score_breakdown โ ะฟะพัะฐะณะพะฒัะน ัะฐัััั
         โข final_verdict โ ะธัะพะณะพะฒัะน ะฒะตัะดะธะบั
         โข reasoning โ ะพะฑะพัะฝะพะฒะฐะฝะธะต

         โ
         โผ
6. ะะตัะตะบััััะฝะฐั ะฒะตัะธัะธะบะฐัะธั (ะตัะปะธ ะพัะตะฝะบะฐ โค 7 ะธ ะตััั Serper)
   โโโ ะะพะธัะบ ะบะปััะตะฒัั ััะฒะตัะถะดะตะฝะธะน ะฝะฐ ะฝะตัะบะพะปัะบะธั ัะทัะบะฐั
       โ ะดะพะฑะฐะฒะปัะตั real_information ะธ verified_sources

         โ
         โผ
7. ะกะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ
   โโโ Redis ะบัั (24 ัะฐัะฐ, SHA-256 ะบะปัั)
   โโโ PostgreSQL (ัะฐะฑะปะธัะฐ analysis_results)

         โ
         โผ
8. ะกััะธะผะธะฝะณ ัะตะทัะปััะฐัะฐ ะบะปะธะตะฝัั ัะตัะตะท SSE
   ะกะพะฑััะธั: start โ progress โ progress โ ... โ result
```

---

## ๐ก ะกะฟัะฐะฒะพัะฝะธะบ API

### ะะฝะฐะปะธะท

| ะะตัะพะด | ะญะฝะดะฟะพะธะฝั | ะะฟะธัะฐะฝะธะต |
|-------|----------|----------|
| `POST` | `/api/analyze` | ะะพะปะฝัะน ะฐะฝะฐะปะธะท, ะฒะพะทะฒัะฐัะฐะตั JSON |
| `POST` | `/api/analyze/stream` | SSE ะฟะพัะพะบ: `start`, `progress`, `result`, `error` |
| `POST` | `/api/chat` | ะงะฐั ั AI ะฒ ะบะพะฝัะตะบััะต ัะตะทัะปััะฐัะฐ ะฐะฝะฐะปะธะทะฐ |
| `GET`  | `/api/health` | ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ โ `{"status":"ok"}` |
| `GET`  | `/api/limits` | ะกัะฐัะธััะธะบะฐ rate limits ะฟะพ AI-ะฟัะพะฒะฐะนะดะตัะฐะผ |

**ะขะตะปะพ ะทะฐะฟัะพัะฐ** (`/api/analyze`, `/api/analyze/stream`):
```json
{ "url": "https://example.com/article" }
// ะะะ
{ "text": "ะขะตะบัั ััะฐััะธ (ะผะธะฝะธะผัะผ 100 ัะธะผะฒะพะปะพะฒ)..." }
```

**ะกัััะบัััะฐ ะพัะฒะตัะฐ**:
```json
{
  "credibility_score": 3,
  "summary": "ะัะฐัะบะพะต ัะตะทัะผะต ััะฐััะธ...",
  "manipulations": ["ะญะผะพัะธะพะฝะฐะปัะฝัะน ัะทัะบ: ััะฐะทะฐ X", "..."],
  "logical_issues": ["ะะพะถะฝะฐั ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝะฐั ัะฒัะทั: ...", "..."],
  "fact_check": {
    "verifiable_facts": ["..."],
    "opinions_as_facts": ["..."],
    "missing_evidence": ["..."]
  },
  "score_breakdown": "ะะฐัะฐะปะพ 5/10: -1 ะทะฐ ัะผะพัะธะพะฝะฐะปัะฝัะน ัะทัะบ, -1 ะทะฐ ะพััััััะฒะธะต ะธััะพัะฝะธะบะพะฒ = 3/10",
  "final_verdict": "FALS",
  "reasoning": "...",
  "verification": {
    "is_fake": true,
    "fake_reasons": ["ะะฐะนะดะตะฝะพ 3 ะผะฐะฝะธะฟัะปััะธะธ", "..."],
    "real_information": "ะะตะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะธะท ะฟัะพะฒะตัะตะฝะฝัั ะธััะพัะฝะธะบะพะฒ...",
    "verified_sources": [{"title":"...", "url":"...", "description":"..."}]
  }
}
```

### ะจะฐัะธะฝะณ ัะตะทัะปััะฐัะพะฒ

| ะะตัะพะด | ะญะฝะดะฟะพะธะฝั | ะะฟะธัะฐะฝะธะต |
|-------|----------|----------|
| `POST` | `/api/share` | ะกะพััะฐะฝะธัั ัะตะทัะปััะฐั โ `{"id":"abc123","url":"https://.../s/abc123"}` |
| `GET`  | `/api/share/:id` | ะะพะปััะธัั JSON ัะตะทัะปััะฐัะฐ ะธะท ะะ |
| `GET`  | `/s/:id` | ะัะฐัะธะฒะฐั HTML-ัััะฐะฝะธัะฐ ัะตะทัะปััะฐัะฐ |

### ะะตะฟััะฐัะธั ะดะพะผะตะฝะพะฒ

| ะะตัะพะด | ะญะฝะดะฟะพะธะฝั | ะะฟะธัะฐะฝะธะต |
|-------|----------|----------|
| `GET`  | `/api/domain/:host` | ะกัะฐัะธััะธะบะฐ ัะตะฟััะฐัะธะธ ะดะพะผะตะฝะฐ |
| `GET`  | `/api/domains/top` | ะขะพะฟ ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะดะพะผะตะฝะพะฒ |

### ะะดะผะธะฝ (ััะตะฑัะตััั ะทะฐะณะพะปะพะฒะพะบ `X-Admin-Token`)

| ะะตัะพะด | ะญะฝะดะฟะพะธะฝั | ะะฟะธัะฐะฝะธะต |
|-------|----------|----------|
| `GET`  | `/api/admin/stats` | ะกััััะธะบะธ ะฐะฝะฐะปะธะทะพะฒ, ะฟะพัะปะตะดะฝะธะต ัะตะทัะปััะฐัั |
| `GET`  | `/api/admin/logs` | SSE ะฟะพัะพะบ ะถะธะฒัั ะปะพะณะพะฒ |
| `POST` | `/api/admin/pause` | ะัะธะพััะฐะฝะพะฒะธัั ะพะฑัะฐะฑะพัะบั ะฐะฝะฐะปะธะทะพะฒ |
| `POST` | `/api/admin/resume` | ะะพะทะพะฑะฝะพะฒะธัั ะพะฑัะฐะฑะพัะบั ะฐะฝะฐะปะธะทะพะฒ |
| `GET`  | `/api/admin/docker/containers` | ะกะฟะธัะพะบ Docker-ะบะพะฝัะตะนะฝะตัะพะฒ |
| `POST` | `/api/admin/docker/action` | ะะฐะฟัััะธัั/ะพััะฐะฝะพะฒะธัั/ะฟะตัะตะทะฐะฟัััะธัั ะบะพะฝัะตะนะฝะตั |
| `WS`   | `/api/admin/docker/logs` | WebSocket ะฟะพัะพะบ ะปะพะณะพะฒ ะบะพะฝัะตะนะฝะตัะฐ |

---

## ๐ค Telegram-ะฑะพั

ะะพั ะฟะพะดะบะปััะฐะตััั ะบ ะฑัะบะตะฝะดั ัะตัะตะท `/api/analyze/stream`.

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั ะฒะฒะพะดะฐ
| ะะฒะพะด | ะะตะนััะฒะธะต |
|------|----------|
| URL (`https://...`) | ะะฐะณััะทะธัั ะธ ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐัั ััะฐััั |
| ะะตัะตัะปะฐะฝะฝะพะต ัะพะพะฑัะตะฝะธะต ั URL | ะะทะฒะปะตัั URL, ะฟะพะบะฐะทะฐัั ะผะตัะบั ะธััะพัะฝะธะบะฐ |
| ะะฑััะฝัะน ัะตะบัั | ะะตะถะปะธะฒะพ ะพัะฒะตัะธัั: ยซะะฝะฐะปะธะท URL ะฒ ัะฐะทัะฐะฑะพัะบะตยป |

### ะะพะผะฐะฝะดั
| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `/start` | ะัะธะฒะตัััะฒะตะฝะฝะพะต ัะพะพะฑัะตะฝะธะต |
| `/help` | ะะฝััััะบัะธั ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั |
| `/cancel` | ะััะฐะฝะพะฒะธัั ัะตะบััะธะน ะฐะฝะฐะปะธะท |

### ะคะพัะผะฐั ัะพะพะฑัะตะฝะธั ั ัะตะทัะปััะฐัะพะผ
```
๐ก 4/10 โ ะกะะะะะขะะะฌะะ
[โโโโโโโโโโ] 4/10

๐ ะัะฐัะบะพะต ัะตะทัะผะต ััะฐััะธ...

โ๏ธ ะะฐะฝะธะฟัะปััะธะธ:
โข ะญะผะพัะธะพะฝะฐะปัะฝัะน ัะทัะบ: ััะฐะทะฐ X
โข ะะฟะตะปะปััะธั ะบ ัะผะพัะธัะผ ะฒะผะตััะพ ัะฐะบัะพะฒ

๐ ะะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ:
โข ะะพะถะฝะฐั ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝะฐั ัะฒัะทั: ...

[๐ ะะพะดะตะปะธัััั] [๐ ะะตัะตะฟัะพะฒะตัะธัั]
```

### ะะตะถะธะผั ัะฐะฑะพัั
- **Polling** (ะฟะพ ัะผะพะปัะฐะฝะธั, ะปะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ) โ long-polling Telegram API
- **Webhook** (ะฟัะพะดะฐะบัะตะฝ) โ ัััะฐะฝะพะฒะธัั `WEBHOOK_URL` ะฒ `.env`

---

## ๐งฉ Chrome-ัะฐััะธัะตะฝะธะต

ะะฐััะธัะตะฝะธะต ะฝะฐ **Manifest V3**, ะฐะฝะฐะปะธะทะธััะตั ัะตะบัััั ะฒะบะปะฐะดะบั ะฑัะฐัะทะตัะฐ.

### ะัะพัะตัั ัะฐะฑะพัั
```
ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั ะฝะฐ ะธะบะพะฝะบั ัะฐััะธัะตะฝะธั
          โ
          โผ
1. ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ ะฑัะบะตะฝะดะฐ (health check)
          โ
          โผ
2. ะะฝะถะตะบัะธั content script ะฒ ัะตะบัััั ะฒะบะปะฐะดะบั
   โ ะะทะฒะปะตะบะฐะตั ัะตะบัั ะธะท DOM ัััะฐะฝะธัั
   โ ะัะฟัะฐะฒะปัะตั ัะฐะฝะบะธ ะฒ popup ัะตัะตะท chrome.runtime.onMessage
          โ
          โผ
3. Popup ะฟะพะบะฐะทัะฒะฐะตั ะฟัะพะณัะตัั ัะบะฐะฝะธัะพะฒะฐะฝะธั
   (ัะฐะฝะบะธ, ะบะพะปะธัะตััะฒะพ ัะธะผะฒะพะปะพะฒ, ะฟัะพะณัะตัั-ะฑะฐั)
          โ
          โผ
4. POST /api/analyze/stream ั URL ะฒะบะปะฐะดะบะธ
   โ SSE ะฟะพัะพะบ โ ะถะธะฒะพะน ะปะพะณ ัะพะฑััะธะน
          โ
          โผ
5. ะัะพะฑัะฐะถะตะฝะธะต ัะตะทัะปััะฐัะฐ:
   โข ะัะตะฝะบะฐ (0-10) ั ัะฒะตัะพะผ
   โข ะะตะนะดะถ ะฒะตัะดะธะบัะฐ
   โข ะะตะทัะผะต
   โข ะกะฟะธัะพะบ ะผะฐะฝะธะฟัะปััะธะน
   โข ะะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ
   โข ะฃัะฒะตัะถะดะตะฝะธั ะฑะตะท ะดะพะบะฐะทะฐัะตะปัััะฒ
```

### ะะฐะทัะตัะตะฝะธั
- `activeTab` โ ะดะพัััะฟ ะบ ัะตะบััะตะน ะฒะบะปะฐะดะบะต
- `scripting` โ ะธะฝะถะตะบัะธั content.js
- `storage` โ ะบัั, ะธััะพัะธั, userId
- `contextMenus` โ ะบะพะฝัะตะบััะฝะพะต ะผะตะฝั
- `host_permissions`: `https://apich.sinkdev.dev/*`

---

## ๐ก๏ธ ะะดะผะธะฝ-ะฟะฐะฝะตะปั

ะะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั `/admin/` (ััะตะฑัะตััั ัะพะบะตะฝ).

### ะััะฑะพัะด (`index.html`)
- ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะฐะฝะฐะปะธะทะพะฒ
- ะกะพะพัะฝะพัะตะฝะธะต ัะตะนะบะพะฒ/ะดะพััะพะฒะตัะฝัั (ะบััะณะพะฒะฐั ะดะธะฐะณัะฐะผะผะฐ)
- ะขะฐะฑะปะธัะฐ ะฟะพัะปะตะดะฝะธั ะฐะฝะฐะปะธะทะพะฒ (URL, ะพัะตะฝะบะฐ, ะฒะตัะดะธะบั, ะดะฐัะฐ)
- ะะธะฒะพะน WebSocket ะฟะพัะพะบ ะปะพะณะพะฒ
- API-ัะตััะตั (ะพัะฟัะฐะฒะบะฐ ัะตััะพะฒัั ะทะฐะฟัะพัะพะฒ)
- ะัะพะฑัะฐะถะตะฝะธะต rate limits (`/api/limits`)

### Docker Manager (`docker.html`)
- ะกะฟะธัะพะบ ะฒัะตั Docker-ะบะพะฝัะตะนะฝะตัะพะฒ ัะพ ััะฐัััะพะผ
- ะะฐะฟััะบ / ะััะฐะฝะพะฒะบะฐ / ะะตัะตะทะฐะฟััะบ ะปัะฑะพะณะพ ะบะพะฝัะตะนะฝะตัะฐ
- ะะธะฒะพะน WebSocket ะฟะพัะพะบ ะปะพะณะพะฒ ะบะพะฝัะตะนะฝะตัะฐ

### ะกััะฐะฝะธัะฐ ัะฐัะธะฝะณะฐ (`share.html`)
- ะัะฑะปะธัะฝะฐั โ ะฐะฒัะพัะธะทะฐัะธั ะฝะต ััะตะฑัะตััั
- ะะฐะณััะถะฐะตั ัะตะทัะปััะฐั ะธะท ะะ ัะตัะตะท `/api/share/:id`
- ะะฝะธะผะธัะพะฒะฐะฝะฝัะน ัััััะธะบ ะพัะตะฝะบะธ (ะพั 0 ะดะพ N)
- ะฆะฒะตัะฝะพะน ะฒะตัะดะธะบั
- ะะฐะฝะตะปะธ ะผะฐะฝะธะฟัะปััะธะน, ะปะพะณะธัะตัะบะธั ะพัะธะฑะพะบ, ะพััััััะฒัััะธั ะดะพะบะฐะทะฐัะตะปัััะฒ

---

## ๐ง ะกะธััะตะผะฐ ะพัะตะฝะบะธ AI

ะัะพะผะฟั ะทะฐะดะฐัั ัััะพะณะธะต ะฟัะฐะฒะธะปะฐ (ะฒ `config/prompts.json`):

```
ะกะขะะะข:  5/10 (ะฝะตะนััะฐะปัะฝะฐั ะฟะพะทะธัะธั)

ะะซะงะะขะซ:
  -0.5  ะทะฐ ะบะฐะถะดัั ะผะฐะฝะธะฟัะปััะธั (ั ัะธัะฐัะพะน ะธะท ัะตะบััะฐ)
  -0.5  ะทะฐ ะบะฐะถะดะพะต ััะฒะตัะถะดะตะฝะธะต ะฑะตะท ะดะพะบะฐะทะฐัะตะปัััะฒ
  -0.5  ะทะฐ ะบะฐะถะดะพะต ะผะฝะตะฝะธะต, ะฟะพะดะฐะฝะฝะพะต ะบะฐะบ ัะฐะบั
  -1.0  ะทะฐ ะฒะฝัััะตะฝะฝะตะต ะปะพะณะธัะตัะบะพะต ะฟัะพัะธะฒะพัะตัะธะต
  -1.0  ะทะฐ ัะผะพัะธะพะฝะฐะปัะฝัะน / ะฐะปะฐัะผะธัััะบะธะน ัะทัะบ
  -1.0  ะทะฐ ะฟะพะปะฝะพะต ะพััััััะฒะธะต ะธััะพัะฝะธะบะพะฒ ะฒ ัะตะบััะต
  -1.0  ะทะฐ ะฒะฒะพะดััะธะน ะฒ ะทะฐะฑะปัะถะดะตะฝะธะต / ัะตะฝัะฐัะธะพะฝะฝัะน ะทะฐะณะพะปะพะฒะพะบ
  -1.0  ะทะฐ ะฝะตะธะทะฒะตััะฝัะต, ะฟัะตะดะฒะทัััะต ะธะปะธ ะฝะตะฟัะพะฒะตััะตะผัะต ะธััะพัะฝะธะบะธ
  -2.0  ะทะฐ ะดะพะบะฐะทัะตะผัั ะดะตะทะธะฝัะพัะผะฐัะธั

ะะะะะะะะะะฏ:
  +0.5  ะทะฐ ัะฐะบั ั ัะธัะธัะพะฒะฐะฝะธะตะผ ะฟะตัะฒะธัะฝะพะณะพ ะธััะพัะฝะธะบะฐ ะฒ ัะตะบััะต
  +1.0  ะทะฐ ัะฒะฝะพะต ัะธัะธัะพะฒะฐะฝะธะต ะฝะตัะบะพะปัะบะธั ะฝะตะทะฐะฒะธัะธะผัั ะธััะพัะฝะธะบะพะฒ
  +1.0  ะทะฐ ะพัะธัะธะฐะปัะฝัะน ะดะพะบัะผะตะฝั ะธะปะธ ัะตัะตะฝะทะธััะตะผะพะต ะธััะปะตะดะพะฒะฐะฝะธะต

ะะะขะะะะคะะฏะฆะะะะะซะ ะะะะะะะ:
  8+  ะขะะะฌะะ ะดะปั: ัะตัะตะฝะทะธััะตะผัั ััะฐัะตะน, ะพัะธัะธะฐะปัะฝัั ะดะพะบัะผะตะฝัะพะฒ ั ะธััะพัะฝะธะบะฐะผะธ
  7   ะขะะะฌะะ ะตัะปะธ: ัะฐะบัั ะฒะตัะธัะธัะธัะพะฒะฐะฝั, ะฝะตะนััะฐะปัะฝัะน ัะพะฝ, ะผะฐะบั. 1 ะฝะตะทะฝะฐัะธัะตะปัะฝะฐั ะฟัะพะฑะปะตะผะฐ
  โค6  ะัะต ะพะฑััะฝัะต ะฝะพะฒะพััะฝัะต/ะฑะปะพะณะพะฒัะต ััะฐััะธ
  โ8+ ะตัะปะธ ะฝะฐะทะฒะฐะฝะธะต ัะฐะนัะฐ = ยซะฟัะพะฒะตัะตะฝะพยป / ยซproverenoยป โ ะฒะฐะถะฝะพ ัะพะปัะบะพ ัะพะดะตัะถะฐะฝะธะต

ะจะะะะ ะะฆะะะะ:
  0-2  ะะตะทะธะฝัะพัะผะฐัะธั / ะฟัะพะฟะฐะณะฐะฝะดะฐ
  3-4  ะัะตะธะผััะตััะฒะตะฝะฝะพ ะปะพะถะฝะฐั ะธะฝัะพัะผะฐัะธั
  5-6  ะกะฟะพัะฝัะน ะบะพะฝัะตะฝั โ ัะผะตัั ัะฐะบัะพะฒ ะธ ะดะพะผััะปะพะฒ
  7    ะฃะผะตัะตะฝะฝะพ ะดะพััะพะฒะตัะฝะพ
  8-9  ะััะพะบะฐั ะดะพััะพะฒะตัะฝะพััั
  10   ะัะบะปััะธัะตะปัะฝะพ ัะตัะตะฝะทะธััะตะผัะต/ะพัะธัะธะฐะปัะฝัะต ะดะพะบัะผะตะฝัั
```

---

## ๐ณ Docker-ัะตัะฒะธัั

| ะกะตัะฒะธั | ะะฑัะฐะท | ะะฐะทะฝะฐัะตะฝะธะต |
|--------|-------|------------|
| `backend` | Custom Go build | ะัะฝะพะฒะฝะพะน API-ัะตัะฒะตั |
| `telegram-bot` | Custom Go build | Telegram-ะฑะพั |
| `postgres` | `postgres:15-alpine` | ะะพััะพัะฝะฝะพะต ััะฐะฝะธะปะธัะต |
| `redis` | `redis:7-alpine` | ะัั ะฐะฝะฐะปะธะทะพะฒ |
| `fact-guard` | Custom build | ะะตะฑ-ััะพะฝัะตะฝะด |
| `nginx` | `nginx:alpine` | ะะฑัะฐัะฝัะน ะฟัะพะบัะธ, ะฟะพัั 80 |

### ะัะพะฒะตัะบะธ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ (healthcheck)
- **postgres**: `pg_isready` ะบะฐะถะดัะต 10 ัะตะบัะฝะด
- **backend**: `GET /api/health` ะบะฐะถะดัะต 15 ัะตะบัะฝะด
- **telegram-bot**: ะทะฐะฟััะบะฐะตััั ัะพะปัะบะพ ะฟะพัะปะต ััะฟะตัะฝะพะณะพ healthcheck ะฑัะบะตะฝะดะฐ

---

## โ๏ธ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

```env
# AI-ะฟัะพะฒะฐะนะดะตัั
USE_GROQ=true
GROQ_API_KEY=gsk_...
GROQ_MODEL=llama-3.3-70b-versatile

OPENROUTER_API_KEY=sk-or-v1-...
OPENROUTER_MODEL=qwen/qwen3-coder:free
OPENROUTER_MODEL_BACKUP=deepseek/deepseek-r1-0528:free

# ะะตะฑ-ะฟะพะธัะบ (Serper)
SERPER_API_KEY=...

# ะกะตัะฒะตั
PORT=8080
ADMIN_TOKEN=ะฒะฐั_ัะตะบัะตัะฝัะน_ัะพะบะตะฝ

# ะะฐะทั ะดะฐะฝะฝัั
DB_URL=postgres://user:password@postgres:5432/text_analyzer?sslmode=disable
REDIS_URL=redis:6379

# Telegram-ะฑะพั
TELEGRAM_TOKEN=ัะพะบะตะฝ_ะฒะฐัะตะณะพ_ะฑะพัะฐ
API_BASE=https://ะฒะฐั-ะดะพะผะตะฝ.com

# Webhook-ัะตะถะธะผ (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะฟะพ ัะผะพะปัะฐะฝะธั polling)
# WEBHOOK_URL=https://ะฒะฐั-ะดะพะผะตะฝ.com
# WEBHOOK_PORT=8443
```

---

## ๐ ะัััััะน ััะฐัั

```bash
# 1. ะะปะพะฝะธัะพะฒะฐัั ะธ ะฝะฐัััะพะธัั
cp .env.example .env
# ะััะตะดะฐะบัะธัะพะฒะฐัั .env โ ะฒััะฐะฒะธัั ัะฒะพะธ API-ะบะปััะธ

# 2. ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
docker compose up -d

# 3. ะัะพะฒะตัะธัั ััะฐััั
docker compose ps
docker compose logs -f backend

# 4. ะัะบัััั
# ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต:  http://localhost/
# ะะดะผะธะฝ-ะฟะฐะฝะตะปั:   http://localhost/admin/
# ะัะพะฒะตัะบะฐ API:   http://localhost/api/health
```

---

## ๐ ะะฐัััััะธะทะฐัะธั NGINX

```nginx
location /api/   โ backend:8080   # ะัะต API-ัะฝะดะฟะพะธะฝัั
location /admin/ โ backend:8080   # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ
location /s/     โ backend:8080   # ะกััะฐะฝะธัั ัะฐัะธะฝะณะฐ ัะตะทัะปััะฐัะพะฒ
location /       โ fact-guard:80  # ะะตะฑ-ััะพะฝัะตะฝะด (catch-all)
```

---

## ๐ ะกัะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั (PostgreSQL)

```sql
-- ะะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะพะฒ
CREATE TABLE analysis_results (
  id         SERIAL PRIMARY KEY,
  text       TEXT,
  url        TEXT,
  result     JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ะะฑัะธะต ัะตะทัะปััะฐัั (ั ะฒัะตะผะตะฝะตะผ ะถะธะทะฝะธ)
CREATE TABLE shared_results (
  id         VARCHAR(12) PRIMARY KEY,
  result     JSONB,
  created_at TIMESTAMP DEFAULT NOW(),
  expires_at TIMESTAMP DEFAULT NOW() + INTERVAL '30 days'
);

-- ะะตะฟััะฐัะธั ะดะพะผะตะฝะพะฒ
CREATE TABLE domain_stats (
  domain     TEXT PRIMARY KEY,
  total      INT,
  avg_score  FLOAT,
  last_seen  TIMESTAMP
);
```

---

## ๐ ะััะพัะธั ะทะฐะดะฐั (ะฒัะต ะฒัะฟะพะปะฝะตะฝะฝัะต)

### ะะพะปะฝะพะต ะพะฟะธัะฐะฝะธะต ะธ ััะฝะบัะธะพะฝะฐะป ะฟัะพะตะบัะฐ
**ANALYST (Fact Guard)** โ ััะพ ะบะพะผะฟะปะตะบัะฝะฐั ัะบะพัะธััะตะผะฐ ะฝะฐ ะฑะฐะทะต ะธัะบััััะฒะตะฝะฝะพะณะพ ะธะฝัะตะปะปะตะบัะฐ ะดะปั ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะน ะฟัะพะฒะตัะบะธ ัะฐะบัะพะฒ, ะฒััะฒะปะตะฝะธั ะดะตะทะธะฝัะพัะผะฐัะธะธ ะธ ะณะปัะฑะพะบะพะณะพ ะฐะฝะฐะปะธะทะฐ ัะตะบััะพะฒ. 

**ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะธ ะฒะพะทะผะพะถะฝะพััะธ:**
*   **ะััะพะบะพะฟัะพะธะทะฒะพะดะธัะตะปัะฝัะน ะัะบะตะฝะด (Go):** ะฃะฟัะฐะฒะปัะตั ะพัะตัะตะดัั ะทะฐะดะฐั, ะพะฑัะพะดะธั ะทะฐัะธัั SPA-ัะฐะนัะพะฒ ะดะปั ะธะทะฒะปะตัะตะฝะธั ัััะพะณะพ ัะตะบััะฐ (ัะตัะตะท fallback ะฝะฐ ld+json ะธ OG-ัะตะณะธ), ะบะพะฝััะพะปะธััะตั ะปะธะผะธัั AI-ะฟัะพะฒะฐะนะดะตัะพะฒ ะธ ัััะธะผะธั ัะตะทัะปััะฐัั ัะตัะตะท SSE ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ. ะะฝัะตะณัะธัะพะฒะฐะฝ Redis (ะดะปั 24-ัะฐัะพะฒะพะณะพ ะบััะธัะพะฒะฐะฝะธั) ะธ PostgreSQL (ะดะปั ัะพััะฐะฝะตะฝะธั ะธััะพัะธะธ ะธ ัะตะฟััะฐัะธะธ ะดะพะผะตะฝะพะฒ).
*   **ะะฝะพะณะพััะพะฒะฝะตะฒัะน ะะ-ะะฝะฐะปะธะท:** ะะฝัะตะณัะฐัะธั ั Groq (llama-3.3) ะธ OpenRouter. ะะพะดะตะปะธ ะฒััะฒะปััั ะผะฐะฝะธะฟัะปััะธะธ, ะปะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ, ะฟะพะดะฐัั ะผะฝะตะฝะธะน ะฟะพะด ะฒะธะดะพะผ ัะฐะบัะพะฒ ะธ ะฒัััะฐะฒะปััั ะพะฑััั ะพัะตะฝะบั ะดะพะฒะตัะธั.
*   **ะัะพัั-ะฒะตัะธัะธะบะฐัะธั ะธ ะฆะตะฟะพัะบะฐ ะธััะพัะฝะธะบะพะฒ:** ะัะฟะพะปัะทะพะฒะฐะฝะธะต Serper API (ะฟะพะธัะบ Google) ะดะปั ะฟะพะธัะบะฐ ะฟะตัะฒะพะธััะพัะฝะธะบะพะฒ. ะะพะฒะฐั ััะฝะบัะธั ัะตะฟะพัะบะธ ะพััะปะตะถะธะฒะฐะตั, ะบะฐะบ ะผะตะฝัะปัั ัะผััะป ััะฐััะธ ะพั ะพัะธะณะธะฝะฐะปะฐ ะบ ะฟะตัะตัะบะฐะทะฐะผ, ะฟะพะผะพะณะฐั ะพะฑะฝะฐััะถะธัั ะฝะฐะผะตัะตะฝะฝัะต ะธัะบะฐะถะตะฝะธั.
*   **ะะปะธะตะฝััะบะธะต ะฟัะธะปะพะถะตะฝะธั (ะขะพัะบะธ ะดะพัััะฟะฐ):**
    *   *Chrome ะะฐััะธัะตะฝะธะต:* ะะฝะฐะปะธะท "ะฝะฐ ะปะตัั" ั ะบะตัะธัะพะฒะฐะฝะธะตะผ ะธััะพัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะธ ะผะณะฝะพะฒะตะฝะฝะพะผ ะพัะพะฑัะฐะถะตะฝะธะธ ะฒะตัะดะธะบัะฐ ะฒ ัะณะปั ัััะฐะฝะธัั.
    *   *Telegram-ะะพั:* ะะฑัะฐะฑะฐััะฒะฐะตั ัััะปะบะธ, ะฝะฐะฟััะผัั ะฟะตัะตัะปะฐะฝะฝัะต ัะพะพะฑัะตะฝะธั ะธ ะฒะธะดะตะพ (ัะตัะตะท Gemini Files API ะดะปั ัะฐััะธััะพะฒะบะธ ะธ ะฐะฝะฐะปะธะทะฐ).
    *   *ะะตะฑ-ะบะปะธะตะฝั (Fact Guard):* ะัะฝะพะฒะฝะพะน ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะธะฝัะตััะตะนั ะดะปั ัััะฝะพะณะพ ะฒะฒะพะดะฐ ัะตะบััะพะฒ ะธ ัััะปะพะบ.
*   **ะัะฑะปะธัะฝัะน ัะตัะธะฝะณ:** ะะตะฝะตัะฐัะธั ะบัะฐัะธะฒัั ะฟัะฑะปะธัะฝัั ะฒะตะฑ-ะพััะตัะพะฒ (ะฝะฐะฟั. `/s/abc123`), ะดะพัััะฟะฝัั ะปัะฑะพะผั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพ ัััะปะบะต ะฑะตะท ะฐะฒัะพัะธะทะฐัะธะธ.
*   **ะะฐะฝะตะปั ะะดะผะธะฝะธัััะฐัะพัะฐ:** ะะพะปะฝะพัะตะฝะฝัะน ะดััะฑะพัะด ั ะถะธะฒัะผะธ WebSocket-ะปะพะณะฐะผะธ, ะณัะฐัะธะบะฐะผะธ, ัะฟัะฐะฒะปะตะฝะธะตะผ Docker-ะบะพะฝัะตะนะฝะตัะฐะผะธ ะธ ะฟัะพัะผะพััะพะผ ะพัะตัะตะดะตะน Rate Limit.
*   **ะกัะฐะฑะธะปัะฝะฐั ะธะฝััะฐััััะบัััะฐ:** ะัะพะตะบั ะฟะพะปะฝะพัััั ะบะพะฝัะตะนะฝะตัะธะทะธัะพะฒะฐะฝ (Docker Compose), Nginx ะฝะฐัััะพะตะฝ ะฝะฐ ะบะพััะตะบัะฝัั ัะฐะฑะพัั ัะพ ัััะธะผะธะฝะณะพะผ ะธ ะตะดะธะฝัะผ ะฟะพััะพะผ ะผะฐัััััะธะทะฐัะธะธ 80/8080.

---

### ะัะบะตะฝะด

- [x] **ะคะตััะตั SPA** โ ัะพะปะฑะตะบะธ ะดะปั JS-ัะฐะนัะพะฒ: ld+json โ OG meta-ัะตะณะธ (`services/fetcher.go`)
- [x] **Rate limit ะฒัะตะผั** โ ัะธัะฐะตั `Retry-After` / `X-RateLimit-Reset-Requests` ะธะท 429, ะปะพะณะธััะตั ัะบะพะปัะบะพ ะถะดะฐัั
- [x] **GET /api/limits** โ ัะฝะดะฟะพะธะฝั ั ัะตะบััะธะผะธ rate limit ะดะฐะฝะฝัะผะธ ะฟะพ ะฟัะพะฒะฐะนะดะตัะฐะผ
- [x] **ะัะตัะตะดั ะทะฐะฟัะพัะพะฒ** โ ัะตะผะฐัะพั (ะผะฐะบั. 1 ะพะดะฝะพะฒัะตะผะตะฝะฝัะน AI-ะทะฐะฟัะพั), ะธะฝะดะธะบะฐัะธั ะฟะพะทะธัะธะธ ะฒ ะพัะตัะตะดะธ
- [x] **Redis-ะบััะธัะพะฒะฐะฝะธะต** โ 24 ัะฐัะฐ, ะบะปัั = SHA-256 ััั ะบะพะฝัะตะฝัะฐ
- [x] **ะกะพััะฐะฝะตะฝะธะต ะฒ PostgreSQL** โ ะฒัะต ัะตะทัะปััะฐัั ั URL ะธ ะฒัะตะผะตะฝะฝะพะน ะผะตัะบะพะน
- [x] **ะะตัะตะบััััะฝะฐั ะฒะตัะธัะธะบะฐัะธั** โ ะผัะปััะธัะทััะฝัะน ะฟะพะธัะบ Serper ะดะปั ะฟัะพะฒะตัะบะธ ะบะปััะตะฒัั ััะฒะตัะถะดะตะฝะธะน
- [x] **ะะฐัะทะฐ ะฐะฝะฐะปะธะทะฐ** โ ะฐะดะผะธะฝะธัััะฐัะพั ะผะพะถะตั ะฟัะธะพััะฐะฝะฐะฒะปะธะฒะฐัั/ะฒะพะทะพะฑะฝะพะฒะปััั ะพะฑัะฐะฑะพัะบั (`IsPaused` atomic)
- [x] **ะญะฝะดะฟะพะธะฝั /api/chat** โ ัะฐั ั AI ั ะฟะตัะตะดะฐัะตะน ะบะพะฝัะตะบััะฐ ะฐะฝะฐะปะธะทะฐ

### ะะดะผะธะฝ-ะฟะฐะฝะตะปั

- [x] **ะะพะปะฝัะน ัะตะดะธะทะฐะนะฝ** โ IBM Plex Mono + Bebas Neue, ัะตััะฐััะน ัะพะฝ, CRT-ัััะตะบั scanlines, amber-ัะตะผะฐ
- [x] **ะะธะฒัะต ะปะพะณะธ** โ WebSocket-ะฟะพัะพะบ ะปะพะณะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ (`/api/admin/logs`)
- [x] **API-ัะตััะตั** โ ัะตััะธัะพะฒะฐะฝะธะต API-ะทะฐะฟัะพัะพะฒ ะฟััะผะพ ะธะท ะฟะฐะฝะตะปะธ
- [x] **Docker-ะผะตะฝะตะดะถะตั** โ ัะฟะธัะพะบ ะบะพะฝัะตะนะฝะตัะพะฒ, ะทะฐะฟััะบ/ะพััะฐะฝะพะฒะบะฐ/ะฟะตัะตะทะฐะฟััะบ, WS-ะฟะพัะพะบ ะปะพะณะพะฒ (`admin/docker.html`)
- [x] **ะัะพะฑัะฐะถะตะฝะธะต rate limits** โ ะฒะธะทัะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั `/api/limits` ั ะฟัะพะณัะตัั-ะฑะฐัะฐะผะธ

### Chrome-ัะฐััะธัะตะฝะธะต

- [x] **userId + ะธััะพัะธั** โ UUID ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั, ััะฐะฝะธั 30 ะทะฐะฟะธัะตะน 7 ะดะฝะตะน, ะบะฝะพะฟะบะฐ ๐
- [x] **ะะฒัะพ-ัะบะฐะฝ ะฑะตะท ะฐะฝะธะผะฐัะธะธ** โ ัะธัะพะต ัะบะฐะฝะธัะพะฒะฐะฝะธะต ะฟัะธ ะพัะบัััะธะธ popup, ะฐะฝะธะผะฐัะธั ัะพะปัะบะพ ะฟัะธ ัััะฝะพะผ ะฝะฐะถะฐัะธะธ
- [x] **ะัั** โ ัะฐ ะถะต ัััะฐะฝะธัะฐ โ ะผะณะฝะพะฒะตะฝะฝัะน ัะตะทัะปััะฐั ะธะท ะบััะฐ, ๐ ะดะปั ะฟัะธะฝัะดะธัะตะปัะฝะพะณะพ ัะตัะบะฐะฝะฐ
- [x] **ะฃะฒะตะดะพะผะปะตะฝะธะต ะฒ ัะณะปั** โ floating div ะฒ ะฟัะฐะฒะพะผ ะฝะธะถะฝะตะผ ัะณะปั ัััะฐะฝะธัั ะฟะพัะปะต ะฐะฝะฐะปะธะทะฐ
- [x] **ะัะตะผะธะฐะปัะฝัะน ัะตะดะธะทะฐะนะฝ** โ glassmorphism, IBM Plex Mono, ััะบะธะต ัะฒะตัะฐ, ะผะธะบัะพ-ะฐะฝะธะผะฐัะธะธ
- [x] **ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ** โ ะธะฝะดะธะบะฐัะพั ััะฐัััะฐ ะฑัะบะตะฝะดะฐ, ะบะฝะพะฟะบะฐ ะพัะบะปััะฐะตััั ะตัะปะธ ะพัะปะฐะนะฝ

### Telegram-ะฑะพั

- [x] **ะัะดะตะปัะฝัะน Go-ะผะพะดัะปั** โ ะฟะฐะฟะบะฐ `telegram-bot/` ั `main.go`, `analyzer.go`, `formatter.go`
- [x] **SSE-ะบะปะธะตะฝั** โ ัััะธะผะธั `/api/analyze/stream`, ะพะฑะฝะพะฒะปัะตั ัะพะพะฑัะตะฝะธะต ะฒ ะฟัะพัะตััะต ะฐะฝะฐะปะธะทะฐ
- [x] **ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต** โ ะฑะฐะปะป + ะฟัะพะณัะตัั-ะฑะฐั + ะฒะตัะดะธะบั + ะผะฐะฝะธะฟัะปััะธะธ + ะปะพะณะธัะตัะบะธะต ะพัะธะฑะบะธ
- [x] **ะัะปััะธะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ัะตะถะธะผ** โ ะบะฐะถะดัะน ัะฐั ะธะผะตะตั ะฝะตะทะฐะฒะธัะธะผัะน ะบะพะฝัะตะบัั ะธ ะพัะผะตะฝั
- [x] **ะะพะผะฐะฝะดะฐ /cancel** โ ะพััะฐะฝะพะฒะบะฐ ัะตะบััะตะณะพ ะฐะฝะฐะปะธะทะฐ ะดะปั ะบะพะฝะบัะตัะฝะพะณะพ ัะฐัะฐ
- [x] **Webhook-ัะตะถะธะผ** โ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒัะฑะธัะฐะตััั ะฟัะธ ะฝะฐะปะธัะธะธ `WEBHOOK_URL` ะฒ `.env`
- [x] **Inline-ะบะฝะพะฟะบะธ** โ ๐ ะะพะดะตะปะธัััั ะธ ๐ ะะตัะตะฟัะพะฒะตัะธัั ะฟะพัะปะต ัะตะทัะปััะฐัะฐ
- [x] **ะะตัะตัะปะฐะฝะฝัะต ัะพะพะฑัะตะฝะธั** โ ะพะฟัะตะดะตะปัะตั ะบะฐะฝะฐะป/ะฟะพะปัะทะพะฒะฐัะตะปั-ะธััะพัะฝะธะบ, ะฟะพะบะฐะทัะฒะฐะตั ะผะตัะบั
- [x] **ะขะพะปัะบะพ URL-ัะตะถะธะผ** โ ะพะฑััะฝัะน ัะตะบัั ะฒัะทัะฒะฐะตั ะฒะตะถะปะธะฒัะน ะพัะฒะตั ยซััะฝะบัะธั ะฒ ัะฐะทัะฐะฑะพัะบะตยป
- [x] **ะฃะดะฐะปัะฝ Gemini** โ ัะฑัะฐะฝะฐ ะทะฐะฒะธัะธะผะพััั ะพั ะฒะธะดะตะพะฐะฝะฐะปะธะทะฐ, ัะฟัะพัะตะฝะพ ะดะพ URL-only

### ะะฝััะฐััััะบัััะฐ

- [x] **ะะดะธะฝัะน .env** โ ะฑะพั ัะธัะฐะตั `../.env` ะธะท ะบะพัะฝั ะฟัะพะตะบัะฐ, ะพะฑัะธะน `.env.example`
- [x] **Docker Compose** โ nginx (SSE ะฑััะตัะธะทะฐัะธั, ัะฐะนะผะฐััั), ัะตัะฒะธั telegram-bot, `env_file`, healthcheck ะดะปั postgres ะธ backend
- [x] **Nginx-ัะพัั ะดะปั ัะฐัะธะฝะณะฐ** โ ะดะพะฑะฐะฒะปะตะฝ `location /s/` โ backend (ะพััััััะฒะพะฒะฐะป, ะฒัะทัะฒะฐะป 502)
- [x] **HTML-ัััะฐะฝะธัะฐ ัะฐัะธะฝะณะฐ** โ ะฟัะตะผะธะฐะปัะฝัะน `admin/share.html` ะฒ ััะธะปะต ะฐะดะผะธะฝะบะธ, ะฐะฝะธะผะธัะพะฒะฐะฝะฝัะน ัััััะธะบ, ะดะฐะฝะฝัะต ะธะท ะะ
- [x] **ะฃะปัััะตะฝะธะต ะฟัะพะผะฟัะฐ** โ ะฟัะฐะฒะธะปะพ ะฐะฝัะธ-ะฐะฒัะพัะธัะตัะฐ (ะฝะฐะทะฒะฐะฝะธะต ัะฐะนัะฐ โ ะพัะตะฝะบะฐ ะดะพััะพะฒะตัะฝะพััะธ), ะฟะพะดะดะตัะถะบะฐ ะผะฝะพะณะพัะทััะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ

---

## ๐๏ธ ะะทะฒะตััะฝัะต ะฟัะพะฑะปะตะผั ะธ ะธั ัะตัะตะฝะธั

ะะพ ะฒัะตะผั ัะฐะทัะฐะฑะพัะบะธ ะธ ะธะฝัะตะณัะฐัะธะธ ะบะพะผะฟะพะฝะตะฝัะพะฒ ะฒะพะทะฝะธะบะฐะปะธ ัะปะตะดัััะธะต ะพัะธะฑะบะธ ะธ ะฟัะพะฑะปะตะผั:

1. **ะัะธะฑะบะฐ `405 Method Not Allowed` ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ SSE ะฝะฐ ะบะปะธะตะฝัะต**
   - **ะกะธะผะฟัะพะผ:** `GET /api/analyze/stream?url=... 405 (Method Not Allowed)`.
   - **ะัะธัะธะฝะฐ:** ะัะฐัะทะตัะฝัะน ะพะฑัะตะบั `EventSource` (ะธัะฟะพะปัะทัะตะผัะน ะฒะพ ััะพะฝัะตะฝะดะต Fact Guard) ัะฟะพัะพะฑะตะฝ ะพัะฟัะฐะฒะปััั ัะพะปัะบะพ `GET` ะทะฐะฟัะพัั. ะะฐะฝะตะต ะฑัะบะตะฝะด ะฝะฐ Go ะฟัะธะฝะธะผะฐะป ะดะปั ััะฐััะฐ ัััะธะผะธะฝะณะฐ ะธัะบะปััะธัะตะปัะฝะพ `POST`.
   - **ะะตัะตะฝะธะต:** ะะฑัะฐะฑะพััะธะบ `/api/analyze/stream` ะฒ ะฑัะบะตะฝะดะต ะฑัะป ะพะฑะฝะพะฒะปะตะฝ ะดะปั ะฟะพะดะดะตัะถะบะธ ะบะฐะบ `POST` (ะดะปั ัะฐััะธัะตะฝะธั/ะฑะพัะฐ), ัะฐะบ ะธ `GET` (ะฟะฐัะฐะผะตััั ะธะทะฒะปะตะบะฐัััั ะธะท query-ัััะพะบะธ: `?url=...&text=...`).

2. **ะะฐะฒะธัะฐะฝะธะต ะธะปะธ ะพััััััะฒะธะต ะฟะพัะพะบะฐ ะดะฐะฝะฝัั ะพั SSE ัะตัะตะท NGINX (ะััะตัะธะทะฐัะธั)**
   - **ะกะธะผะฟัะพะผ:** ะกะพะฑััะธั ะฒ ะฟะพัะพะบ ะฝะต ะฟัะธัะพะดัั ะฟะพ ะพะดะฝะพะผั, ะฐ ะฒัะฒะฐะปะธะฒะฐัััั ัะฐะทะพะผ ะฒ ะบะพะฝัะต, ะธะปะธ ะทะฐะฟัะพั ะพะฑััะฒะฐะตััั ะฟะพ ัะฐะนะผะฐััั.
   - **ะัะธัะธะฝะฐ:** ะะพ ัะผะพะปัะฐะฝะธั ะฒ Nginx ะฒะบะปััะตะฝะฐ ะฑััะตัะธะทะฐัะธั. ะะฝ ะถะดะตั ะทะฐะฟะพะปะฝะตะฝะธั ะฑััะตัะฐ (ะธะปะธ ะทะฐะฒะตััะตะฝะธั ะพัะฒะตัะฐ) ะฟะตัะตะด ะพัะฟัะฐะฒะบะพะน ะดะฐะฝะฝัั ะบะปะธะตะฝัั.
   - **ะะตัะตะฝะธะต:** ะ ะบะพะฝัะธะณััะฐัะธะธ Nginx (`nginx.conf`) ะดะปั SSE ัะพััะพะฒ (ะธะปะธ ะณะปะพะฑะฐะปัะฝะพ ะดะปั API) ะพัะบะปััะตะฝะฐ ะฑััะตัะธะทะฐัะธั `proxy_buffering off;`, ะฒัััะฐะฒะปะตะฝั ัะฐะนะผะฐััั `proxy_read_timeout` ะฝะฐ ัะฐั, ะธ ะพัะฟัะฐะฒะบะฐ ะทะฐะณะพะปะพะฒะบะพะฒ ัะตัะฒะตัะพะผ `Cache-Control: no-cache` ะธ `Connection: keep-alive`.

3. **ะะปะพะบะธัะพะฒะบะฐ API CORS-ะฟะพะปะธัะธะบะพะน ะฟัะธ ะทะฐะฟัะพัะฐั ั ะดััะณะธั ะดะพะผะตะฝะพะฒ/ะฟะพััะพะฒ**
   - **ะกะธะผะฟัะพะผ:** ะัะธะฑะบะฐ `CORS policy: No 'Access-Control-Allow-Origin' header is present`.
   - **ะัะธัะธะฝะฐ:** ะคัะพะฝัะตะฝะด (ะทะฐะฟััะตะฝะฝัะน, ะฝะฐะฟัะธะผะตั, ะฝะฐ `localhost:80` ะธะปะธ `localhost:8000`) ะฟััะฐะปัั ะพะฑัะฐัะธัััั ะบ API ะฝะฐ ะฟะพััั `8080`.
   - **ะะตัะตะฝะธะต:** ะะพ ะฒัะต ะฟัะฑะปะธัะฝัะต (ะบะปะธะตะฝััะบะธะต) ัััะบะธ ะฑัะบะตะฝะดะฐ (`Analyze`, `AnalyzeStream`, `Chat`) ะดะพะฑะฐะฒะปะตะฝั CORS ะทะฐะณะพะปะพะฒะบะธ: `w.Header().Set("Access-Control-Allow-Origin", "*")` ะธ ะฟะตัะตัะฒะฐั HTTP-ะผะตัะพะดะฐ `OPTIONS` (preflight-ะทะฐะฟัะพัั).

